<html>
  <head>
    <title>bookmak</title>
    <!--Meta Tags-->
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--Bootstrap CSS-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!--Header-->
    <header>
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <a href="/" class="navbar-brand">Bookmak</a>
          <a href="/checkout/cart" class="btn btn-outline-light">Carrinho</a>
        </div>
      </nav>
    </header>
    <!--Conteudo-->
    <main class="container">
      <div class="row">
        <h1 class="mt-3 text-center col-12">Endereços</h1>
        <p class="mt-3 text-center col-12">
          Olá veja os endereços seus a seguir:
        </p>
        <a href="/accounts/me/addresses/new" class="btn btn-dark col-12 mt-3">
          Novo Endereço
        </a>
        <!--Lista de Endereços-->
        <div class="col-12">
          <% addresses.forEach(function(address) { %>
          <div class="mt-3 border p-3 row">
            <div class="col-12 mb-2">
              <strong>Nome do Endereço:</strong>
              <%= address.nickname %>
            </div>
            <div class="col-12">
              <strong>Tipo de Residência:</strong>
              <%= address.residenceType ===  "house" ? "Casa" : "Apartamento" %>
            </div>
            <div class="col-3">
              <strong>Tipo de Logradouro:</strong>
              <%= address.streetType ===  "avenue" ? "Avenida" : "Rua" %>
            </div>
            <div class="col-6">
              <strong>Logradouro:</strong>
              <%= address.street %>
            </div>
            <div class="col-2">
              <strong>Número:</strong>
              <%= address.number %>
            </div>
            <div class="col-3">
              <strong>Bairro:</strong>
              <%= address.district %>
            </div>
            <div class="col-3">
              <strong>CEP:</strong>
              <%= formatZipCode(address.zipCode) %>
            </div>
            <div class="col-3">
              <strong>Cidade:</strong>
              <%= address.city %>
            </div>
            <div class="col-3">
              <strong>Estado:</strong>
              <%= address.state %>
            </div>
            <div class="col-3">
              <strong>País:</strong>
              <%= address.country %>
            </div>
            <div class="col-12">
              <strong>Observações:</strong>
              <%= address.observations %>
            </div>
            <form
              method="POST"
              action="/accounts/me/addresses/<%= address.id %>/delete"
              class="col-12 mt-2 row justify-content-end mb-0"
            >
              <a
                href="/accounts/me/addresses/edit/<%= address.id %>"
                class="btn btn-primary col-1 me-1"
              >
                Editar
              </a>
              <button type="submit" class="btn btn-danger col-1">
                Excluir
              </button>
            </form>
          </div>
          <% }) %>
        </div>
      </div>
      <!--Alertas-->
      <% if(success) { %>
      <div class="alert alert-success mt-3" role="alert"><%= success %></div>
      <% } %>
      <% if(error) { %>
      <div class="alert alert-danger mt-3" role="alert"><%= error %></div>
      <% } %>
    </main>

    <!--Bootstrap JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

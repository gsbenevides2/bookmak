<html lang="pt-br">
  <head>
    <title>bookmak</title>
    <!--Meta Tags-->
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--Bootstrap CSS-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!--AutoCEP JS-->
    <script src="/scripts/autoCEP.js"></script>
  </head>
  <body>
    <!--Header-->
    <header>
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <a href="/" class="navbar-brand">Bookmak</a>
        </div>
      </nav>
    </header>
    <!--Conteudo-->
    <main class="container mb-5">
      <% if (typeof(id) === 'string') { %>
      <h1 class="mt-3 text-center">Editar Endereço</h1>
      <% } else { %>
      <h1 class="mt-3 text-center">Novo Endereço</h1>
      <% } %>
      <% if(typeof(error) === "string") { %>
      <div class="alert alert-danger" role="alert"><%= error %></div>
      <% } %>
      <!--Formulário-->
      <form method="POST" class="row">
        <% if (typeof(id) === 'string') { %>
        <p class="col-12">
          Preencha os dados abaixo para cadastrar um editar o endereço:
        </p>
        <% } else { %>
        <p class="col-12">
          Preencha os dados abaixo para cadastrar um novo endereço:
        </p>
        <% } %>
        <div class="mb-3 col-12">
          <label for="nickname" class="form-label">Nome do Endereço</label>
          <input
            type="text"
            class="form-control"
            id="nickname"
            name="nickname"
            required
            <%- typeof(nickname) === 'string' ? `value="${nickname}"` : '' %>
          />
        </div>

        <div class="mb-3 col-3">
          <label for="houseType" class="form-label">Tipo de Residência</label>
          <select class="form-select" id="houseType" name="houseType" required>
            <option disabled
              <%=typeof(houseType) === 'undefined' ? 'selected' : '' %>
            >Escolha...</option>
            <option value="house"
              <%= typeof(houseType) === 'string' && houseType === 'house' ? 'selected' : '' %>
            >Casa</option>
            <option value="apartment"
              <%= typeof(houseType) === 'string' && houseType === 'apartment' ? 'selected' : '' %>
            >Apartamento</option>
            <!-- Adicione mais opções conforme necessário -->
          </select>
        </div>

        <div class="mb-3 col-3">
          <label for="streetType" class="form-label">Tipo de Logradouro</label>
          <select class="form-select" id="streetType" name="streetType" required>
            <option disabled
              <%= typeof(streetType) === 'undefined' ? 'selected' : '' %>
            >Escolha...</option>
            <option value="street"
              <%= typeof(streetType) === 'string' && streetType === 'street' ? 'selected' : '' %>
            >Rua</option>
            <option value="avenue"
              <%= typeof(streetType) === 'string' && streetType === 'avenue' ? 'selected' : '' %>
            >Avenida</option>
            <!-- Adicione mais opções conforme necessário -->
          </select>
        </div>

        <div class="mb-3 col-6">
          <label for="street" class="form-label">Logradouro</label>
          <input 
            type="text" 
            class="form-control" 
            id="street" 
            name="street"
            <%- typeof(street) === 'string' ? `value="${street}"` : '' %>
            required />
        </div>

        <div class="mb-3 col-1">
          <label for="number" class="form-label">Número</label>
          <input 
            type="text" 
            class="form-control" 
            id="number" 
            name="number"
            <%- typeof(number) === 'string' ? `value="${number}"` : '' %>
            required
          />
        </div>

        <div class="mb-3 col-4">
          <label for="district" class="form-label">Bairro</label>
          <input
            type="text"
            class="form-control"
            id="district"
            name="district"
            <%- typeof(district) === 'string' ? `value="${district}"` : '' %>
            required
          />
        </div>

        <div class="mb-3 col-4">
          <label for="zipCode" class="form-label">CEP</label>
          <input 
            type="text" 
            class="form-control" 
            id="zipCode" 
            name="zipCode" 
            <%- typeof(zipCode) === 'string' ? `value="${zipCode}"` : '' %>
            required
            />
        </div>

        <div class="mb-3 col-3">
          <label for="city" class="form-label">Cidade</label>
          <input 
            type="text" 
            class="form-control" 
            id="city" 
            name="city"
            <%- typeof(city) === 'string' ? `value="${city}"` : '' %>
            required
            />
        </div>

        <div class="mb-3 col-7">
          <label for="state" class="form-label">Estado</label>
          <input 
            type="text" 
            class="form-control" 
            id="state" 
            name="state" 
            <%- typeof(state) === 'string' ? `value="${state}"` : '' %>
            required
          />
        </div>

        <div class="mb-3 col-5">
          <label for="country" class="form-label">País</label>
          <input 
            type="text" 
            class="form-control" 
            id="country" 
            name="country"
            <%- typeof(country) === 'string' ? `value="${country}"` : '' %>
            required
          />
        </div>

        <div class="mb-3 col-12">
          <label for="observations" class="form-label">Observações</label>
          <textarea
            class="form-control"
            id="observations"
            name="observations"
            rows="3"
          ><%- typeof(observations) === 'string' ? observations : '' %></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Continuar</button>
      </form>
    </main>
    
    <% if(typeof(error) === 'string') { %>
      <div class="alert alert-danger" role="alert"><%= error %></div>
    <% } %>

    <!--Bootstrap JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
